<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Novelite ‚Äî Create Your Story</title>
<meta name="description" content="Write and publish your stories on Novelite. Select genres, age groups, and preview your book instantly.">
<meta name="keywords" content="Novelite, write stories, book creation, publish, genres, age groups">
<meta name="author" content="Novelite">
<style>
  :root{
    --green:#014421;
    --gold:#FFD700;
    --white:#FFFFFF;
    --ink: rgba(1,68,33,.08);
    --glass: rgba(255,255,255,.08);
    --glass-bd: rgba(255,215,0,.25);
  }
  *{box-sizing:border-box;margin:0;padding:0}
  body{font-family:"Inter", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; background: var(--white); color:#111; min-height:100vh; overflow-x:hidden;}

  /* ===== LOADER ===== */
  .loader{position:fixed; inset:0; background:var(--white); display:flex; align-items:center; justify-content:center; z-index:9999;}
  .quill{width:72px; height:72px; position:relative; filter: drop-shadow(0 6px 18px rgba(0,0,0,.15));}
  .quill:before{content:""; position:absolute; inset:0; background:
    radial-gradient(circle at 70% 30%, var(--gold) 0 10px, transparent 11px),
    linear-gradient(135deg, var(--gold) 35%, #c9a200 36% 45%, var(--gold) 46%);
    clip-path: polygon(30% 0, 100% 0, 70% 70%, 55% 100%, 45% 70%, 0 40%);
    border-radius:8px; animation: float 1.8s ease-in-out infinite;
  }
  .ink-ring{position:absolute; width:120px; height:120px; border-radius:50%; border:4px solid var(--ink); animation: ripple 1.8s ease-out infinite;}
  @keyframes float{50%{transform: translateY(-6px) rotate(-2deg)}}
  @keyframes ripple{from{transform:scale(.7); opacity:1} to{transform:scale(1.2); opacity:0}}

  /* ===== HEADER ===== */
  header{padding:40px 22px; text-align:center; background: radial-gradient(1200px 400px at 50% -10%, rgba(1,68,33,.08), transparent 60%), linear-gradient(0deg, transparent, transparent 60%, rgba(1,68,33,.03));}
  .brand{display:flex; align-items:center; justify-content:center; gap:10px; margin-bottom:14px;}
  .brand .mark{width:28px; height:28px; border-radius:50%; background:var(--gold); box-shadow:0 6px 16px rgba(0,0,0,.15); position:relative;}
  .brand .mark:after{content:""; position:absolute; inset:4px 6px 6px 10px; background:#c9a200; border-radius:6px; transform:skewX(-15deg);}
  h1{font-size: clamp(28px, 5vw, 42px); line-height:1.15; color:var(--green);}
  .tag{margin-top:10px; color:#333}

  /* ===== FORM ===== */
  .form-container{padding:20px; max-width:700px; margin:20px auto; background:var(--glass); backdrop-filter: blur(12px) saturate(150%); border:1px solid var(--glass-bd); border-radius:16px;}
  .form-container h2{color:var(--green); margin-bottom:12px; text-align:center;}
  .field{margin-bottom:12px; display:flex; flex-direction:column;}
  .field label{margin-bottom:4px; font-size:14px; color:#222;}
  .field input, .field textarea, .field select{padding:10px 12px; border-radius:12px; border:1px solid #ccc; outline:none; font-size:14px;}
  .checkbox-group{display:flex; flex-wrap:wrap; gap:8px;}
  .checkbox-group label{display:flex; align-items:center; gap:4px; background:#fff; padding:4px 8px; border-radius:8px; border:1px solid #ccc; cursor:pointer;}
  .btn{padding:12px 18px; border-radius:12px; border:none; font-weight:600; cursor:pointer; transition:.25s; background:var(--green); color:var(--white);}
  .btn:hover{transform: translateY(-2px); box-shadow:0 8px 20px rgba(1,68,33,.18);}
  .preview-cards{display:grid; grid-template-columns:repeat(auto-fit, minmax(200px,1fr)); gap:14px; margin-top:20px;}
  .card{background:#fff; border-radius:16px; overflow:hidden; box-shadow:0 6px 14px rgba(0,0,0,.06); position:relative; padding:8px;}
  .card .cover{aspect-ratio:3/4; background:#eee; margin-bottom:8px; border-radius:8px; background-size:cover; background-position:center;}
  .card .title{font-weight:700; color:#222;}
  .card .by{font-size:12px; color:#666; margin-top:4px;}
  .chips{display:flex; flex-wrap:wrap; gap:4px; margin-top:6px;}
  .chips span{background:var(--gold); padding:2px 6px; font-size:11px; border-radius:999px;}
</style>
</head>
<body>

<!-- LOADER -->
<div class="loader" id="loader">
  <div class="ink-ring"></div>
  <div class="quill"></div>
</div>

<!-- HEADER -->
<header>
  <div class="brand">
    <div class="mark" aria-hidden="true"></div>
    <strong style="letter-spacing:.5px;color:#222;font-size:14px">NOVELITE</strong>
  </div>
  <h1>Create Your Story</h1>
  <p class="tag">Fill in your book details and preview it instantly.</p>
</header>

<!-- FORM -->
<section class="form-container">
  <h2>Book Information</h2>
  <div class="field">
    <label for="title">Title</label>
    <input type="text" id="title" placeholder="Book Title">
  </div>
  <div class="field">
    <label for="author">Author Name</label>
    <input type="text" id="author" placeholder="Your name">
  </div>
  <div class="field">
    <label for="cover">Cover Image URL</label>
    <input type="text" id="cover" placeholder="https://...">
  </div>
  <div class="field">
    <label>Genres</label>
    <div class="checkbox-group" id="genres">
      <label><input type="checkbox" value="Fantasy"> Fantasy</label>
      <label><input type="checkbox" value="Romance"> Romance</label>
      <label><input type="checkbox" value="Sci-Fi"> Sci-Fi</label>
      <label><input type="checkbox" value="Thriller"> Thriller</label>
      <label><input type="checkbox" value="Poetry"> Poetry</label>
      <label><input type="checkbox" value="Mystery"> Mystery</label>
    </div>
  </div>
  <div class="field">
    <label for="age">Age Group</label>
    <select id="age">
      <option value="">Select Age Group</option>
      <option value="Children">Children</option>
      <option value="Teen">Teen</option>
      <option value="Young Adult">Young Adult</option>
      <option value="Adult">Adult</option>
    </select>
  </div>
  <button class="btn" id="addBook">Add Book</button>
</section>

<!-- PREVIEW CARDS -->
<section class="preview-cards" id="previewCards"></section>

<!-- BOTTOM NAV -->
<nav class="bottom-nav" aria-label="Primary">
  <a class="nav-btn" href="index.html"><div class="ico">üè†</div><span>Home</span></a>
  <a class="nav-btn active" href="create.html"><div class="ico">‚úçÔ∏è</div><span>Create</span></a>
  <a class="nav-btn" href="books.html"><div class="ico">üìñ</div><span>Books</span></a>
  <a class="nav-btn" href="#" id="navProfile"><div class="ico">üë§</div><span>Profile</span></a>
</nav>

<script>
/* ===== LOADER ===== */
window.addEventListener('load',()=> {
  document.getElementById('loader').style.display='none';
});

/* ===== PROFILE NAV RESTRICTION ===== */
const navProfile = document.getElementById('navProfile');
function updateProfileNav(){
  const u = localStorage.getItem('novelite_user');
  if(u){
    navProfile.href = 'profile.html';
  }else{
    navProfile.href = '#';
    navProfile.addEventListener('click', e=>{
      e.preventDefault(); alert('Please login first!');
    }, {once:true});
  }
}
updateProfileNav();

/* ===== BOOK CREATION ===== */
const preview = document.getElementById('previewCards');
const addBtn = document.getElementById('addBook');

function renderCard(book){
  const div = document.createElement('div'); div.className='card';
  div.innerHTML=`
    <div class="cover" style="background:url('${book.cover}') center/cover"></div>
    <div class="title">${book.title}</div>
    <div class="by">by ${book.author}</div>
    <div class="chips">${book.genres.map(g=>'<span>'+g+'</span>').join('')}</div>
    <div class="by"><em>Age: ${book.age}</em></div>
  `;
  preview.appendChild(div);
}

function getSelectedGenres(){
  return Array.from(document.querySelectorAll('#genres input:checked')).map(cb=>cb.value);
}

function saveBook(){
  const book={
    title: document.getElementById('title').value.trim(),
    author: document.getElementById('author').value.trim(),
    cover: document.getElementById('cover').value.trim(),
    genres: getSelectedGenres(),
    age: document.getElementById('age').value
  };
  if(!book.title || !book.author || !book.cover || !book.age || book.genres.length===0){
    alert('Please fill all fields and select genres.');
    return;
  }
  let books = JSON.parse(localStorage.getItem('novelite_books')||'[]');
  books.push(book);
  localStorage.setItem('novelite_books', JSON.stringify(books));
  renderCard(book);
}

addBtn.addEventListener('click', saveBook);

/* ===== LOAD SAVED BOOKS ===== */
window.addEventListener('DOMContentLoaded', ()=>{
  const books = JSON.parse(localStorage.getItem('novelite_books')||'[]');
  books.forEach(renderCard);
});
</script>
</body>
</html>
