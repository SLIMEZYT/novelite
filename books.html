<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Novelite ‚Äî Books</title>
<style>
  :root{
    --green:#014421; --gold:#FFD700; --white:#fff; --ink:rgba(1,68,33,.08);
    --glass:rgba(255,255,255,.08); --glass-bd: rgba(255,215,0,.25);
  }
  *{box-sizing:border-box;margin:0;padding:0}
  body{font-family: "Inter", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; background:var(--white); color:#111; min-height:100vh; overflow-x:hidden;}

  /* Loader */
  .loader{position:fixed; inset:0; background:var(--white); display:flex; align-items:center; justify-content:center; z-index:9999;}
  .quill{width:72px;height:72px;position:relative; filter:drop-shadow(0 6px 18px rgba(0,0,0,.15));}
  .quill:before{content:"";position:absolute; inset:0; background:radial-gradient(circle at 70% 30%, var(--gold) 0 10px, transparent 11px), linear-gradient(135deg, var(--gold) 35%, #c9a200 36% 45%, var(--gold) 46%); clip-path: polygon(30% 0, 100% 0, 70% 70%, 55% 100%, 45% 70%, 0 40%); border-radius:8px; animation: float 1.8s ease-in-out infinite;}
  .ink-ring{position:absolute;width:120px;height:120px;border-radius:50%; border:4px solid var(--ink); animation:ripple 1.8s ease-out infinite;}
  @keyframes float{50%{transform:translateY(-6px) rotate(-2deg)}}
  @keyframes ripple{from{transform:scale(.7); opacity:1} to{transform:scale(1.2); opacity:0}}

  /* Sections */
  section{padding:32px 20px; max-width:1100px;margin:0 auto;}
  .section-title{color:var(--green); font-size:clamp(22px, 2.8vw,28px); margin-bottom:14px; position:relative;}
  .section-title:after{content:""; display:block; width:64px; height:4px; background:var(--gold); border-radius:2px; margin-top:6px;}
  .cards{display:grid; grid-template-columns:repeat(auto-fit, minmax(200px,1fr)); gap:14px;}
  .card{background:#fff; border:1px solid rgba(1,68,33,.12); border-radius:16px; overflow:hidden; box-shadow:0 6px 14px rgba(0,0,0,.06); transition:.25s; position:relative;}
  .card:hover{transform:translateY(-4px);}
  .cover{aspect-ratio:3/4; background:#eee;}
  .card .meta{padding:12px;}
  .card .title{font-weight:700; color:#222;}
  .card .by{font-size:12px; color:#666; margin-top:4px;}

  /* Shimmer */
  @keyframes shimmer{0%{left:-100%}100%{left:100%}}

  /* Countdown */
  #booksCountdown{margin:16px auto; text-align:center; color:var(--green); font-weight:700;}

  /* Bottom Nav */
  .bottom-nav{position:fixed; left:50%; bottom:18px; transform:translateX(-50%); width:min(560px,92%); display:flex; justify-content:space-between; align-items:center; gap:8px; padding:10px 12px; border-radius:22px; background: var(--glass); backdrop-filter:blur(12px) saturate(150%); border:1px solid var(--glass-bd); box-shadow:0 10px 30px rgba(0,0,0,.15); z-index:9000;}
  .nav-btn{flex:1; display:flex; flex-direction:column; align-items:center; gap:6px; padding:8px 6px; border-radius:14px; cursor:pointer; font-size:12px; font-weight:600; text-decoration:none; color:#0f0f0f; position:relative; overflow:hidden;}
  .nav-btn .ico{font-size:18px;}
  .nav-btn:hover{background:rgba(255,255,255,.25);}
  .nav-btn.active{background:rgba(255,215,0,.25); border:1px solid var(--glass-bd);}
  .nav-btn.active .ico,.nav-btn.active span{color:var(--green);}
</style>
</head>
<body>

<!-- Loader -->
<div class="loader" id="loader">
  <div class="ink-ring"></div>
  <div class="quill"></div>
</div>

<!-- Countdown -->
<div id="booksCountdown"></div>

<!-- Featured Books -->
<section>
  <h2 class="section-title">Featured Books</h2>
  <div class="cards" id="featuredBooks"></div>
</section>

<!-- New Books -->
<section>
  <h2 class="section-title">New Books</h2>
  <div class="cards" id="newBooks"></div>
</section>

<!-- Recommended Books -->
<section>
  <h2 class="section-title">Recommended</h2>
  <div class="cards" id="recommendedBooks"></div>
</section>

<!-- Bottom Nav -->
<nav class="bottom-nav">
  <a class="nav-btn active" href="index.html"><div class="ico">üè†</div><span>Home</span></a>
  <a class="nav-btn" href="books.html"><div class="ico">üìñ</div><span>Books</span></a>
  <a class="nav-btn" href="write.html"><div class="ico">‚úçÔ∏è</div><span>Write</span></a>
  <a class="nav-btn" href="blog.html"><div class="ico">üì∞</div><span>Blog</span></a>
  <a class="nav-btn" href="#" id="navProfile"><div class="ico">üë§</div><span>Profile</span></a>
</nav>

<script>
// Loader
window.addEventListener('load',()=>{const loader=document.getElementById('loader'); loader.style.opacity='0'; setTimeout(()=>loader.style.display='none',250);});

// Books Data
const booksData={
  featured:[{title:"The Emerald Chronicle", author:"A. Writer", cover:"https://images.unsplash.com/photo-1524995997946-a1c2e315a42f?q=80&w=900&auto=format&fit=crop"},{title:"Golden Threads", author:"B. Author", cover:"https://images.unsplash.com/photo-1495446815901-a7297e633e8d?q=80&w=900&auto=format&fit=crop"}],
  new:[{title:"Ink & Shadows", author:"D. Storyteller", cover:"https://images.unsplash.com/photo-1522202176988-66273c2fd55f?q=80&w=900&auto=format&fit=crop"},{title:"Silent Whispers", author:"E. Poet", cover:"https://images.unsplash.com/photo-1473862177823-f8ce6b8f89b1?q=80&w=900&auto=format&fit=crop"}],
  recommended:[{title:"Nightfall Tales", author:"F. Novelist", cover:"https://images.unsplash.com/photo-1507842217343-583bb7270b66?q=80&w=900&auto=format&fit=crop"},{title:"River of Thoughts", author:"G. Author", cover:"https://images.unsplash.com/photo-1526318472351-3c290f2e1464?q=80&w=900&auto=format&fit=crop"}]
};

// Shimmer placeholder
function addShimmer(sectionId){
  const container=document.getElementById(sectionId); container.innerHTML='';
  for(let i=0;i<2;i++){
    const card=document.createElement('article'); card.className='card';
    card.innerHTML=`<div class="cover" style="background:#eee; position:relative; overflow:hidden;"><div style="position:absolute; top:0; left:-100%; width:100%; height:100%; background:linear-gradient(90deg, rgba(255,255,255,0) 0%, rgba(255,255,255,.4) 50%, rgba(255,255,255,0) 100%); animation: shimmer 1.5s infinite;"></div></div><div class="meta"><div class="title" style="background:#ddd;height:16px;width:70%;margin-bottom:6px;border-radius:4px;"></div><div class="by" style="background:#ddd;height:12px;width:50%;border-radius:4px;"></div></div>`; container.appendChild(card);
  }
}

// Render books
function renderBooks(sectionId, books){
  const container=document.getElementById(sectionId); container.innerHTML='';
  books.forEach(b=>{
    const card=document.createElement('article'); card.className='card';
    card.innerHTML=`<div class="cover" style="background-image:url('${b.cover}')" aria-label="${b.title} cover image"></div><div class="meta"><div class="title">${b.title}</div><div class="by">by ${b.author}</div></div>`;
    container.appendChild(card);
  });
}

// Countdown to Dec 20
const today=new Date();
const countdownEl=document.getElementById('booksCountdown');
if(today.getMonth()===11 && today.getDate()===20){
  countdownEl.style.display='block';
  let secondsLeft=5;
  addShimmer('featuredBooks'); addShimmer('newBooks'); addShimmer('recommendedBooks');
  countdownEl.textContent=`Books will appear in ${secondsLeft} seconds...`;
  const interval=setInterval(()=>{
    secondsLeft--; countdownEl.textContent=`Books will appear in ${secondsLeft} seconds...`;
    if(secondsLeft<=0){
      clearInterval(interval); countdownEl.style.display='none';
      renderBooks('featuredBooks', booksData.featured);
      renderBooks('newBooks', booksData.new);
      renderBooks('recommendedBooks', booksData.recommended);
      
      // JSON-LD SEO
      const allBooks=[...booksData.featured,...booksData.new,...booksData.recommended];
      const structuredData={ "@context":"https://schema.org", "@type":"ItemList", "itemListElement": allBooks.map((b,i)=>({"@type":"Book","position":i+1,"name":b.title,"author":b.author,"image":b.cover,"url":"#"})) };
      const script=document.createElement('script'); script.type='application/ld+json'; script.textContent=JSON.stringify(structuredData,null,2); document.head.appendChild(script);
    }
  },1000);
}

// Profile nav check
const navProfile=document.getElementById('navProfile');
function updateProfileNav(){
  const u=JSON.parse(localStorage.getItem('novelite_user'));
  if(u){ navProfile.querySelector('span').textContent='Profile'; navProfile.href='profile.html'; }
  else{ navProfile.href='#'; navProfile.addEventListener('click',e=>{e.preventDefault(); alert('Please login to access profile.');},{once:true}); }
}
updateProfileNav();
</script>
</body>
</html>
